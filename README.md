--use the below commands to create the schema of the database.

-- Clubs Table
CREATE TABLE Clubs (
    CLUB_ID SERIAL PRIMARY KEY,
    CLUB_NAME VARCHAR(255) NOT NULL,
    CLUB_DESCRIPTION TEXT
);

-- Office Bearers Table
CREATE TABLE OfficeBearers (
    CLUB_ID INT NOT NULL,
    OB_CONTACT_DETAILS VARCHAR(255) NOT NULL,
    OB_PASSWORD VARCHAR(255) NOT NULL,
    OB_POST VARCHAR(255),
    OB_IMAGE BYTEA,
    STUDENT_NAME VARCHAR(255),
    PRIMARY KEY (CLUB_ID, OB_CONTACT_DETAILS),
    FOREIGN KEY (CLUB_ID) REFERENCES Clubs(CLUB_ID)
);

-- Students Table
CREATE TABLE Students (
    ROLL_NO VARCHAR(50) PRIMARY KEY,
    STUDENT_NAME VARCHAR(255) NOT NULL,
    CGPA DECIMAL(3, 2),
    SEM_NO INT,
    MEMBER_PASSWORD VARCHAR(255)
);

-- Events Table
CREATE TABLE Events (
    EVENT_ID SERIAL PRIMARY KEY,
    EVENT_NAME VARCHAR(255) NOT NULL,
    EVENT_DATE DATE,
    EVENT_VENUE VARCHAR(255),
    EVENT_DESCRIPTION TEXT,
    EVENT_POSTER_IMAGE BYTEA,
    EVENT_SHORT_DESCRIPTION TEXT
);

-- Participation Table
CREATE TABLE Participation (
    ROLL_NO VARCHAR(50) NOT NULL,
    EVENT_ID INT NOT NULL,
    PARTICIPATION_IN_EVENT_TYPE VARCHAR(255),
    PARTICIPATION_STATUS VARCHAR(255),
    PLACE_WON VARCHAR(255),
    LEVEL_OF_COMPETITION VARCHAR(255),
    PRIMARY KEY (ROLL_NO, EVENT_ID),
    FOREIGN KEY (ROLL_NO) REFERENCES Students(ROLL_NO),
    FOREIGN KEY (EVENT_ID) REFERENCES Events(EVENT_ID)
);

-- Announcements Table
CREATE TABLE Announcements (
    ANNOUNCEMENT_ID SERIAL PRIMARY KEY,
    EVENT_ID INT,
    ANNOUNCEMENT_TYPE VARCHAR(255),
    ANNOUNCEMENT_DESCRIPTION TEXT,
    FOREIGN KEY (EVENT_ID) REFERENCES Events(EVENT_ID)
);

-- Feedback Table
CREATE TABLE Feedback (
    ROLL_NO VARCHAR(50) NOT NULL,
    EVENT_ID INT NOT NULL,
    FEEDBACK TEXT,
    SUGGESTION TEXT,
    GRIEVANCE TEXT,
    PRIMARY KEY (ROLL_NO, EVENT_ID),
    FOREIGN KEY (ROLL_NO) REFERENCES Students(ROLL_NO),
    FOREIGN KEY (EVENT_ID) REFERENCES Events(EVENT_ID)
);

-- Achievements Table
CREATE TABLE Achievements (
    ROLL_NO VARCHAR(50) NOT NULL,
    EVENT_ID INT NOT NULL,
    ACHIEVEMENTS TEXT,
    PRIMARY KEY (ROLL_NO, EVENT_ID),
    FOREIGN KEY (ROLL_NO) REFERENCES Students(ROLL_NO),
    FOREIGN KEY (EVENT_ID) REFERENCES Events(EVENT_ID)
);
